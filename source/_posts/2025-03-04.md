---
feature: false
title: 打包 Tauri 或 Dioxus 项目时无法下载 WixTools 或 Nsis 的解决方法 (新)
date: 2025-03-04 19:44:43
abstracts: 新的打包 Tauri 或 Dioxus 项目时无法下载 WixTools 或 Nsis 的解决方法, 以及一些打包 Dioxus 项目时的准备
tags:
    - Rust
    - Resolution
    - Tauri
    - Dioxus
categories:
    - Note
cover: https://fontlos.com/icons/logo.png
---

在之前的文章中已经讲过这个问题, 但是最近又有些更新

**WixTools** 和 **Nsis** 是 Tauri 提供的 **Bundle (包装器)**, Dioxus 0.6 同样使用这个包装器, 但在国内由于一些网络问题可能会出现无法下载的情况, 有时甚至在能连接到 Github 的情况下仍无法下载, 比如:

```
Connection Failed: tls connection init failed: invalid peer certificate: UnknownIssuer`
```

这时可以通过以下步骤手动安装

# WixTools

Tauri 最近更新到了 WixTools 3.14版, 在 [这里](https://github.com/wixtoolset/wix3/releases/download/wix3141rtm/wix314-binaries.zip) 下载预编译文件, 然后注意解压位置文件名有所更改: `C:\Users\[User name]\AppData\Local\tauri\Wixtools314`

至于 NSIS 经过多次测试后手动安装仍然会有 bug, 不过可以参考 [这篇文章](https://zhuanlan.zhihu.com/p/781167659), 这里为 Tauri 添加了用于代理的环境变量, 如果你有 Github 镜像站的话可以尝试, 所以暂时不去使用它

# Dioxus Bundle

目前 dioxus-cli 还有许多 bug 没有解决, 如果你使用 Dioxus 的 Workspace 预设, 运行打包命令前, 需要先运行 `dx config init` 新建一个 `Dioxus.toml` 文件, 并将其中的 `[bundler]` 改为 `[bundle]`, 然后在项目根目录新建 `icon` 文件夹, 里面放入一个图标文件 `icon.ico`, 然后再在根目录新建一个 `public` 文件夹, 里面暂时放任意文件都可以. 然后就可以使用 `dx bundle --package desktop --platform windows --package-types msi` 命令来打包你的程序了. 但这样似乎并不能正确给程序设置图标

(待更新...)